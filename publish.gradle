configurations {
    all*.exclude module : 'spring-boot-starter-logging'
    integrationTestCompile.extendsFrom testCompile
    integrationTestRuntime.extendsFrom testRuntime
}


//Trying without jar, will move to publish.gradle
//Bootstrap project
jar {
    manifest {
        attributes
        'Implementation-Title': 'Yoink',
        'Implementation-Version': version,
        'Main-Class':'org.wallerlab.yoink.Yoink'
    }
    from{
        configurations.compile.collect{
            it.isDirectory() ? it:zipTree(it)
        }
        configurations.runtime.collect{
            it.isDirectory() ? it:zipTree(it)
        }
    }
}
jar.doFirst{
    sourceSets.main.java.srcDirs.each { from it }
}

